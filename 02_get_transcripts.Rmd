---
title: "Get FatT transcripts"
author: "Nathaniel Olin"
date: "`r date()`"
output: github_document
editor_options: 
  chunk_output_type: console
---

```{r setup}
library(tidyverse)
library(googledrive)
library(googlesheets4)
sheets_auth(email = Sys.getenv("email"))

if(! "transcripts" %in% list.files())
  dir.create("transcripts")
```

# Download transcripts

## Get episode URLs

```{r get-list}
dat <- read_csv("meta.csv")
```

## Save transcripts to file

```{r scrape}
# Remove locked file
dat$url[dat$url == "https://drive.google.com/open?id=19CSVitxMRtKKXr8m4swuczgAHtwcTT6sEEZaxSzQpgI"] <- NA
    
for(i in seq_along(dat$url)){
  if(! dat$filename[i] %in% list.files("transcripts") & !is.na(dat$url[i]))
    drive_download(as_id(dat$url[i]), path = paste0("transcripts/", dat$filename[i]))
}
```

